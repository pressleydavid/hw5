[
  {
    "objectID": "hw5.html",
    "href": "hw5.html",
    "title": "hw5",
    "section": "",
    "text": "#Task 1 - Read in and Modify Data ## Read in data from a localized file source\nd1=read.table(\"student-mat.csv\",sep=\";\",header=TRUE)\n\nd2=read.table(\"student-por.csv\",sep=\";\",header=TRUE)\n\nd3=merge(d1,d2,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\nprint(nrow(d3)) # 382 students\n\n[1] 382"
  },
  {
    "objectID": "hw5.html#read-in-and-combine-with-tidyverse",
    "href": "hw5.html#read-in-and-combine-with-tidyverse",
    "title": "hw5",
    "section": "Read in and combine with tidyverse",
    "text": "Read in and combine with tidyverse\n\nmath_tibbs &lt;- as_tibble(d1)\nmath_na &lt;- any(is.na(math_tibbs))\nmath_missing &lt;- math_tibbs |&gt;\n  filter(if_any(everything(), ~ . == \"\"))\n\nport_tibbs &lt;- as_tibble(d2)\nport_na &lt;- any(is.na(port_tibbs))\nport_missing &lt;- port_tibbs |&gt;\n  filter(if_any(everything(), ~ . == \"\"))\n\ncombined &lt;- math_tibbs |&gt;\n  inner_join(port_tibbs, by = c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\n\nWarning in inner_join(math_tibbs, port_tibbs, by = c(\"school\", \"sex\", \"age\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\ncount(combined)\n\n# A tibble: 1 × 1\n      n\n  &lt;int&gt;\n1   382\n\n\n\nIssue - “Warning: Detected an unexpected many-to-many relationship between x and y”\n\n\nTroubleshooting\n\n# Detected an unexpected many-to-many relationship between `x` and `y`.\n# ℹ Row 79 of `x` matches multiple rows in `y`.\n# ℹ Row 79 of `y` matches multiple rows in `x`.\n# ℹ If a many-to-many relationship is expected, set `relationship = \"many-to-many\"` to silence this warning.\nport_row_79 &lt;- port_tibbs |&gt; slice(79)\nmath_row_79 &lt;- math_tibbs |&gt; slice(79)\ncombo_row_79 &lt;- bind_rows(port_row_79, math_row_79)\n\n\n\nInterpretation - previous selection of by vars do not provide uniqueness in the record (they contain the same values) but the same number of observations as the provided merge exist, so will proceed. Further glimpse() of the duplicate records show the unique key contains all values except G1, G2, G3, paid, and absences\n\nglimpse(combo_row_79)\n\nRows: 2\nColumns: 33\n$ school     &lt;chr&gt; \"GP\", \"GP\"\n$ sex        &lt;chr&gt; \"M\", \"M\"\n$ age        &lt;int&gt; 17, 17\n$ address    &lt;chr&gt; \"U\", \"U\"\n$ famsize    &lt;chr&gt; \"GT3\", \"GT3\"\n$ Pstatus    &lt;chr&gt; \"T\", \"T\"\n$ Medu       &lt;int&gt; 2, 2\n$ Fedu       &lt;int&gt; 1, 1\n$ Mjob       &lt;chr&gt; \"other\", \"other\"\n$ Fjob       &lt;chr&gt; \"other\", \"other\"\n$ reason     &lt;chr&gt; \"home\", \"home\"\n$ guardian   &lt;chr&gt; \"mother\", \"mother\"\n$ traveltime &lt;int&gt; 2, 2\n$ studytime  &lt;int&gt; 1, 1\n$ failures   &lt;int&gt; 3, 3\n$ schoolsup  &lt;chr&gt; \"yes\", \"yes\"\n$ famsup     &lt;chr&gt; \"yes\", \"yes\"\n$ paid       &lt;chr&gt; \"no\", \"no\"\n$ activities &lt;chr&gt; \"yes\", \"yes\"\n$ nursery    &lt;chr&gt; \"yes\", \"yes\"\n$ higher     &lt;chr&gt; \"no\", \"no\"\n$ internet   &lt;chr&gt; \"yes\", \"yes\"\n$ romantic   &lt;chr&gt; \"no\", \"no\"\n$ famrel     &lt;int&gt; 4, 4\n$ freetime   &lt;int&gt; 5, 5\n$ goout      &lt;int&gt; 1, 1\n$ Dalc       &lt;int&gt; 1, 1\n$ Walc       &lt;int&gt; 1, 1\n$ health     &lt;int&gt; 3, 3\n$ absences   &lt;int&gt; 0, 2\n$ G1         &lt;int&gt; 9, 8\n$ G2         &lt;int&gt; 9, 8\n$ G3         &lt;int&gt; 10, 10\n\n\n\n\nInner join all vars other than G1, G2, G3, paid, and absences\n\ncombined &lt;- math_tibbs |&gt;\n  inner_join(port_tibbs, by = c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\n                                \"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\n                                \"guardian\",\"traveltime\",\"studytime\",\"failures\",\n                                \"schoolsup\",\"famsup\",\"activities\",\"nursery\",\n                                \"internet\", \"romantic\",\"famrel\",\"freetime\",\n                                \"goout\",\"Dalc\",\"Walc\",\"health\"),\n             suffix = c(\".math\", \".port\")\n  )\n\n\n\nChoose interesting categorical vars and convert to factors\n\ncombined &lt;- combined |&gt;\n  mutate(school = factor(school,\n                         levels = c(\"GP\", \"MS\"),\n                         labels = c(\"Gabriel Pereira\", \"Mousinho da Silveira\")),\n         address = factor(address,\n                         levels = c(\"U\", \"R\"),\n                         labels = c(\"Urban\", \"Rural\")),\n         reason = factor(reason,\n                         levels = c(\"course\", \"home\", \"reputation\", \"other\"),\n                         labels = c(\"course\", \"home\", \"reputation\", \"other\")),\n         guardian = factor(guardian,\n                           levels = c(\"mother\", \"father\", \"other\"),\n                           labels = c(\"mother\", \"father\", \"other\")),\n         Mjob = factor(Mjob,\n                       levels = c(\"at_home\",\"health\",\"other\",\"services\",\"teacher\"),\n                       labels = c(\"at_home\",\"health\",\"other\",\"services\",\"teacher\")),\n         Fjob = factor(Fjob,\n                       levels = c(\"teacher\",\"other\",\"services\",\"health\",\"at_home\"),\n                       labels = c(\"teacher\",\"other\",\"services\",\"health\",\"at_home\"))\n\n  )\n\n#check levels are applied according to underlying data\n#\"look at how the data are stored and see if everything makes sense\"\n\n\nLevels\n\nSchool\n\nlevels(combined$school)\n\n[1] \"Gabriel Pereira\"      \"Mousinho da Silveira\"\n\n\n\n\nAddress\n\nlevels(combined$address)\n\n[1] \"Urban\" \"Rural\"\n\n\n\n\nReason\n\nlevels(combined$reason)\n\n[1] \"course\"     \"home\"       \"reputation\" \"other\"     \n\n\n\n\nGuardian\n\nlevels(combined$guardian)\n\n[1] \"mother\" \"father\" \"other\" \n\n\n\n\nMjob\n\nlevels(combined$Mjob)\n\n[1] \"at_home\"  \"health\"   \"other\"    \"services\" \"teacher\" \n\n\n\n\nFjob\n\nlevels(combined$Fjob)\n\n[1] \"teacher\"  \"other\"    \"services\" \"health\"   \"at_home\""
  },
  {
    "objectID": "hw5.html#task-2---summarize-the-data",
    "href": "hw5.html#task-2---summarize-the-data",
    "title": "hw5",
    "section": "Task 2 - Summarize the Data",
    "text": "Task 2 - Summarize the Data\n\nDocument missing values in data\n\nResult: no missing data found\n\n# Find the positions of NA values in the tibble\nna_positions &lt;- which(is.na(combined), arr.ind = TRUE)\n\ncombined_missing &lt;- combined |&gt;\n  filter(if_any(everything(), ~ . == \"\"))\nglimpse(combined_missing)\n\nRows: 0\nColumns: 39\n$ school        &lt;fct&gt; \n$ sex           &lt;chr&gt; \n$ age           &lt;int&gt; \n$ address       &lt;fct&gt; \n$ famsize       &lt;chr&gt; \n$ Pstatus       &lt;chr&gt; \n$ Medu          &lt;int&gt; \n$ Fedu          &lt;int&gt; \n$ Mjob          &lt;fct&gt; \n$ Fjob          &lt;fct&gt; \n$ reason        &lt;fct&gt; \n$ guardian      &lt;fct&gt; \n$ traveltime    &lt;int&gt; \n$ studytime     &lt;int&gt; \n$ failures      &lt;int&gt; \n$ schoolsup     &lt;chr&gt; \n$ famsup        &lt;chr&gt; \n$ paid.math     &lt;chr&gt; \n$ activities    &lt;chr&gt; \n$ nursery       &lt;chr&gt; \n$ higher.math   &lt;chr&gt; \n$ internet      &lt;chr&gt; \n$ romantic      &lt;chr&gt; \n$ famrel        &lt;int&gt; \n$ freetime      &lt;int&gt; \n$ goout         &lt;int&gt; \n$ Dalc          &lt;int&gt; \n$ Walc          &lt;int&gt; \n$ health        &lt;int&gt; \n$ absences.math &lt;int&gt; \n$ G1.math       &lt;int&gt; \n$ G2.math       &lt;int&gt; \n$ G3.math       &lt;int&gt; \n$ paid.port     &lt;chr&gt; \n$ higher.port   &lt;chr&gt; \n$ absences.port &lt;int&gt; \n$ G1.port       &lt;int&gt; \n$ G2.port       &lt;int&gt; \n$ G3.port       &lt;int&gt; \n\n\n\n\n\nCategorical Values\n\nCreate 1-way contingency table\n\nInterpretation: More students attend Gabriel Pereira than Mousinho da Silveira\n\n#1-way table (school)\nschool_table &lt;- table(combined$school)\nprint(school_table)\n\n\n     Gabriel Pereira Mousinho da Silveira \n                 287                   33 \n\n\n\n\n\nCreate 2-way contingency table (school x address)\n\nInterpretation: More urban students attend Gabriel Pereira. More rural students\n                  attend Mousinho da Silveira, but is fairly balanced between \n                  urban and rural.\n\nschool_by_address_table &lt;- table(combined$school,combined$address)\nprint(school_by_address_table)\n\n                      \n                       Urban Rural\n  Gabriel Pereira        239    48\n  Mousinho da Silveira    14    19\n\n\n\n\n\nCreate 3-way contingency table (school x address by reason)\n\nInterpretation: A majority of students attend GP because of it’s coursework,\nproximity to home, and reputation. MS seems relatively undifferentiated across categories\n\nschool_x_address_by_reason &lt;- table(combined$address,combined$school,combined$reason)\nprint(school_x_address_by_reason)\n\n, ,  = course\n\n       \n        Gabriel Pereira Mousinho da Silveira\n  Urban              84                    6\n  Rural              22                    6\n\n, ,  = home\n\n       \n        Gabriel Pereira Mousinho da Silveira\n  Urban              73                    5\n  Rural               6                    3\n\n, ,  = reputation\n\n       \n        Gabriel Pereira Mousinho da Silveira\n  Urban              63                    1\n  Rural              17                    4\n\n, ,  = other\n\n       \n        Gabriel Pereira Mousinho da Silveira\n  Urban              19                    2\n  Rural               3                    6\n\n\n\n\n\nConditional two-way table. Two-ways\n\nFirst way: subset by filtering\n\n#filter first\nsubset_sch_GP &lt;- combined |&gt;\n  filter(school == \"Gabriel Pereira\")\n\naddress_x_reason &lt;- table(subset_sch_GP$address, subset_sch_GP$reason)\nprint(address_x_reason)\n\n       \n        course home reputation other\n  Urban     84   73         63    19\n  Rural     22    6         17     3\n\n\n\n\nSecond Way - Subset a 3 way table\n\nsubset_3_way &lt;- school_x_address_by_reason[,\"Gabriel Pereira\",]\nprint(subset_3_way)\n\n       \n        course home reputation other\n  Urban     84   73         63    19\n  Rural     22    6         17     3\n\n\n\n\n\nCreate a 2-way contingency using group_by() and summarize() + pivot_wider()\n\ngroup_by_2_way &lt;- combined |&gt;\n  group_by(school, address, reason) |&gt;\n  summarize(count = n(), .groups = \"drop\")\n\nprint(group_by_2_way)\n\n# A tibble: 16 × 4\n   school               address reason     count\n   &lt;fct&gt;                &lt;fct&gt;   &lt;fct&gt;      &lt;int&gt;\n 1 Gabriel Pereira      Urban   course        84\n 2 Gabriel Pereira      Urban   home          73\n 3 Gabriel Pereira      Urban   reputation    63\n 4 Gabriel Pereira      Urban   other         19\n 5 Gabriel Pereira      Rural   course        22\n 6 Gabriel Pereira      Rural   home           6\n 7 Gabriel Pereira      Rural   reputation    17\n 8 Gabriel Pereira      Rural   other          3\n 9 Mousinho da Silveira Urban   course         6\n10 Mousinho da Silveira Urban   home           5\n11 Mousinho da Silveira Urban   reputation     1\n12 Mousinho da Silveira Urban   other          2\n13 Mousinho da Silveira Rural   course         6\n14 Mousinho da Silveira Rural   home           3\n15 Mousinho da Silveira Rural   reputation     4\n16 Mousinho da Silveira Rural   other          6\n\ngroup_by_2_way_wide &lt;- group_by_2_way |&gt;\n  pivot_wider(names_from = address, values_from = count, values_fill = 0)\nprint(group_by_2_way_wide)\n\n# A tibble: 8 × 4\n  school               reason     Urban Rural\n  &lt;fct&gt;                &lt;fct&gt;      &lt;int&gt; &lt;int&gt;\n1 Gabriel Pereira      course        84    22\n2 Gabriel Pereira      home          73     6\n3 Gabriel Pereira      reputation    63    17\n4 Gabriel Pereira      other         19     3\n5 Mousinho da Silveira course         6     6\n6 Mousinho da Silveira home           5     3\n7 Mousinho da Silveira reputation     1     4\n8 Mousinho da Silveira other          2     6\n\n\n\n\nCreate stacked bar graph + side-by-side bar graph\n\nggplot(combined, aes(x = address, fill = reason)) +\n  geom_bar(position = \"stack\") +\n  labs(title = \"Distribution of Reasons by Address\",\n       x = \"Address (Urban/Rural)\",\n       y = \"Count\",\n       fill = \"Reason\") +\n  theme_minimal()\n\n\n\n\n\n\n\n### Create a side-by-side bar graph with ggplot2\nggplot(combined, aes(x = address, fill = reason)) +\n  geom_bar(position = \"dodge\") +\n  labs(title = \"Distribution of Reasons by Address (Side-by-Side)\",\n       x = \"Address (Urban/Rural)\",\n       y = \"Count\",\n       fill = \"Reason\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nNumeric Variables (and across groups)\n\nFind measures of center and spread (G3 (from math dataset), age, absence)\n\nsummary_stats &lt;- combined |&gt;\n  summarize(\n    g3_mean = mean(G3.math, na.rm = TRUE),\n    g3_median = median(G3.math, na.rm = TRUE),\n    g3_sd = sd(G3.math, na.rm = TRUE),\n    g3_iqr = IQR(G3.math, na.rm = TRUE),\n\n    age_mean = mean(age, na.rm = TRUE),\n    age_median = median(age, na.rm = TRUE),\n    age_sd = sd(age, na.rm = TRUE),\n    age_iqr = IQR(age, na.rm = TRUE),\n\n    absences_mean = mean(absences.math, na.rm = TRUE),\n    absences_median = median(absences.math, na.rm = TRUE),\n    absences_sd = sd(absences.math, na.rm = TRUE),\n    absences_iqr = IQR(absences.math, na.rm = TRUE),\n  ) |&gt;\n  pivot_longer(\n    cols = everything(),\n    names_to = \"statistic\",\n    values_to = \"value\"\n  )\nprint(summary_stats)\n\n# A tibble: 12 × 2\n   statistic       value\n   &lt;chr&gt;           &lt;dbl&gt;\n 1 g3_mean         11.0 \n 2 g3_median       11   \n 3 g3_sd            4.30\n 4 g3_iqr           5   \n 5 age_mean        16.5 \n 6 age_median      16   \n 7 age_sd           1.14\n 8 age_iqr          1   \n 9 absences_mean    5.41\n10 absences_median  4   \n11 absences_sd      7.84\n12 absences_iqr     7.25\n\n\n\n\nSubset in a meaningful way\n\nsummary_stats_grp_by &lt;- combined |&gt;\n  filter(school == \"Gabriel Pereira\") |&gt;\n  group_by(school, address, reason) |&gt;\n  summarize(\n    g3_mean = mean(G3.math, na.rm = TRUE),\n    g3_median = median(G3.math, na.rm = TRUE),\n    g3_sd = sd(G3.math, na.rm = TRUE),\n    g3_iqr = IQR(G3.math, na.rm = TRUE),\n\n    age_mean = mean(age, na.rm = TRUE),\n    age_median = median(age, na.rm = TRUE),\n    age_sd = sd(age, na.rm = TRUE),\n    age_iqr = IQR(age, na.rm = TRUE),\n\n    absences_mean = mean(absences.math, na.rm = TRUE),\n    absences_median = median(absences.math, na.rm = TRUE),\n    absences_sd = sd(absences.math, na.rm = TRUE),\n    absences_iqr = IQR(absences.math, na.rm = TRUE),\n    .groups = \"drop\"\n  )\nprint(summary_stats_grp_by)\n\n# A tibble: 8 × 15\n  school       address reason g3_mean g3_median g3_sd g3_iqr age_mean age_median\n  &lt;fct&gt;        &lt;fct&gt;   &lt;fct&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;\n1 Gabriel Per… Urban   course    10.5        11  4.63   4        16.3         16\n2 Gabriel Per… Urban   home      11.2        11  4.39   5        16.3         16\n3 Gabriel Per… Urban   reput…    12.3        13  3.41   4.5      16.4         16\n4 Gabriel Per… Urban   other     12.4        13  3.89   5        16.4         16\n5 Gabriel Per… Rural   course    10.0        11  4.92   4        16.6         17\n6 Gabriel Per… Rural   home      11          10  2      2.25     16.7         17\n7 Gabriel Per… Rural   reput…    11.1        11  4.72   7        16.6         17\n8 Gabriel Per… Rural   other     10          10  1      1        16.3         16\n# ℹ 6 more variables: age_sd &lt;dbl&gt;, age_iqr &lt;dbl&gt;, absences_mean &lt;dbl&gt;,\n#   absences_median &lt;dbl&gt;, absences_sd &lt;dbl&gt;, absences_iqr &lt;dbl&gt;\n\n\n\n\nmeasures of center and spread across a single grouping (school)\n\nsummary_stats_single_grp &lt;- combined |&gt;\n  group_by(school) |&gt;\n  summarize(\n    g3_mean = mean(G3.math, na.rm = TRUE),\n    g3_median = median(G3.math, na.rm = TRUE),\n    g3_sd = sd(G3.math, na.rm = TRUE),\n    g3_iqr = IQR(G3.math, na.rm = TRUE),\n\n    age_mean = mean(age, na.rm = TRUE),\n    age_median = median(age, na.rm = TRUE),\n    age_sd = sd(age, na.rm = TRUE),\n    age_iqr = IQR(age, na.rm = TRUE),\n\n    absences_mean = mean(absences.math, na.rm = TRUE),\n    absences_median = median(absences.math, na.rm = TRUE),\n    absences_sd = sd(absences.math, na.rm = TRUE),\n    absences_iqr = IQR(absences.math, na.rm = TRUE),\n  )\nprint(summary_stats_single_grp)\n\n# A tibble: 2 × 13\n  school       g3_mean g3_median g3_sd g3_iqr age_mean age_median age_sd age_iqr\n  &lt;fct&gt;          &lt;dbl&gt;     &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n1 Gabriel Per…   11.2         11  4.27      5     16.4         16  1.10        1\n2 Mousinho da…    9.88        10  4.44      4     17.8         18  0.600       1\n# ℹ 4 more variables: absences_mean &lt;dbl&gt;, absences_median &lt;int&gt;,\n#   absences_sd &lt;dbl&gt;, absences_iqr &lt;dbl&gt;\n\n\n\n\nmeasures of center and spread across a double grouping (school, address)\n\nsummary_stats_double_grp &lt;- combined |&gt;\n  group_by(school, address) |&gt;\n  summarize(\n    g3_mean = mean(G3.math, na.rm = TRUE),\n    g3_median = median(G3.math, na.rm = TRUE),\n    g3_sd = sd(G3.math, na.rm = TRUE),\n    g3_iqr = IQR(G3.math, na.rm = TRUE),\n\n    age_mean = mean(age, na.rm = TRUE),\n    age_median = median(age, na.rm = TRUE),\n    age_sd = sd(age, na.rm = TRUE),\n    age_iqr = IQR(age, na.rm = TRUE),\n\n    absences_mean = mean(absences.math, na.rm = TRUE),\n    absences_median = median(absences.math, na.rm = TRUE),\n    absences_sd = sd(absences.math, na.rm = TRUE),\n    absences_iqr = IQR(absences.math, na.rm = TRUE),\n  )\n\n`summarise()` has grouped output by 'school'. You can override using the\n`.groups` argument.\n\nprint(summary_stats_double_grp)\n\n# A tibble: 4 × 14\n# Groups:   school [2]\n  school       address g3_mean g3_median g3_sd g3_iqr age_mean age_median age_sd\n  &lt;fct&gt;        &lt;fct&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;\n1 Gabriel Per… Urban     11.3         11  4.25   5        16.3         16  1.11 \n2 Gabriel Per… Rural     10.5         11  4.38   4.5      16.6         17  1.05 \n3 Mousinho da… Urban     12           11  2.75   4.75     17.6         18  0.497\n4 Mousinho da… Rural      8.32        10  4.85   5        17.9         18  0.658\n# ℹ 5 more variables: age_iqr &lt;dbl&gt;, absences_mean &lt;dbl&gt;,\n#   absences_median &lt;dbl&gt;, absences_sd &lt;dbl&gt;, absences_iqr &lt;dbl&gt;\n\n\n\n\nCorrelation matrix for numeric variables\n\nnum_vars &lt;- combined |&gt;\n  select(where(is.numeric))\n\ncorr_matrix &lt;- cor(num_vars, use = \"complete.obs\")\nprint(corr_matrix)\n\n                       age         Medu         Fedu   traveltime    studytime\nage            1.000000000 -0.100949786 -0.107245313  0.160281754  0.043881028\nMedu          -0.100949786  1.000000000  0.621523869 -0.218794954  0.045425978\nFedu          -0.107245313  0.621523869  1.000000000 -0.193978042 -0.039289626\ntraveltime     0.160281754 -0.218794954 -0.193978042  1.000000000 -0.103243249\nstudytime      0.043881028  0.045425978 -0.039289626 -0.103243249  1.000000000\nfailures       0.243429617 -0.125608045 -0.157496645  0.104521138 -0.179515785\nfamrel         0.049940980 -0.067657746 -0.047260992 -0.027275744  0.001381660\nfreetime      -0.045824466  0.004013326 -0.001258667 -0.055899592 -0.091829632\ngoout          0.150794790  0.065832096  0.050593936  0.006559725 -0.009403345\nDalc           0.113952023  0.062866542  0.039126588  0.161272613 -0.172278644\nWalc           0.156817685 -0.004099434  0.023315814  0.105381347 -0.232402574\nhealth        -0.113225976 -0.011497172  0.067152933  0.020869407 -0.040979063\nabsences.math  0.143925170  0.099832689  0.024617771 -0.001464243 -0.082387919\nG1.math       -0.110379348  0.193071603  0.175557917 -0.088080745  0.125691378\nG2.math       -0.186187399  0.188735230  0.150418214 -0.184594967  0.089030600\nG3.math       -0.206031862  0.187754424  0.141990610 -0.165110961  0.045402243\nabsences.port  0.047331821  0.063530536  0.086614161  0.054308059 -0.134969383\nG1.port       -0.050549678  0.181423706  0.115531025 -0.178191662  0.229739293\nG2.port        0.029366456  0.189642017  0.136994424 -0.179611557  0.231059730\nG3.port       -0.009103257  0.158979933  0.107807478 -0.153616466  0.238553746\n                 failures      famrel     freetime        goout        Dalc\nage            0.24342962  0.04994098 -0.045824466  0.150794790  0.11395202\nMedu          -0.12560804 -0.06765775  0.004013326  0.065832096  0.06286654\nFedu          -0.15749664 -0.04726099 -0.001258667  0.050593936  0.03912659\ntraveltime     0.10452114 -0.02727574 -0.055899592  0.006559725  0.16127261\nstudytime     -0.17951579  0.00138166 -0.091829632 -0.009403345 -0.17227864\nfailures       1.00000000  0.09437401  0.089757964  0.097119445  0.16213974\nfamrel         0.09437401  1.00000000  0.090946059  0.033058834 -0.05737989\nfreetime       0.08975796  0.09094606  1.000000000  0.243271162  0.20497133\ngoout          0.09711944  0.03305883  0.243271162  1.000000000  0.25703214\nDalc           0.16213974 -0.05737989  0.204971335  0.257032140  1.00000000\nWalc           0.16736348 -0.12634267  0.119021094  0.378591514  0.64989386\nhealth         0.04225577  0.13959656  0.070864701 -0.049000564  0.05996329\nabsences.math  0.12006863 -0.04806901 -0.046300383  0.078848996  0.15159884\nG1.math       -0.19581035 -0.05618075 -0.017100766 -0.115882796 -0.09641793\nG2.math       -0.16669179 -0.08710139 -0.029677027 -0.158978350 -0.05916707\nG3.math       -0.14303203 -0.01797570 -0.006516202 -0.118423233 -0.04696434\nabsences.port  0.13424264 -0.02955203 -0.011429255  0.128521823  0.10753855\nG1.port       -0.26927657 -0.06419546 -0.085629896 -0.071905764 -0.23398211\nG2.port       -0.26992597 -0.02441686 -0.087231866 -0.091151551 -0.25300707\nG3.port       -0.32775690 -0.01282948 -0.110638817 -0.073423265 -0.27992305\n                      Walc       health absences.math     G1.math     G2.math\nage            0.156817685 -0.113225976   0.143925170 -0.11037935 -0.18618740\nMedu          -0.004099434 -0.011497172   0.099832689  0.19307160  0.18873523\nFedu           0.023315814  0.067152933   0.024617771  0.17555792  0.15041821\ntraveltime     0.105381347  0.020869407  -0.001464243 -0.08808075 -0.18459497\nstudytime     -0.232402574 -0.040979063  -0.082387919  0.12569138  0.08903060\nfailures       0.167363479  0.042255769   0.120068630 -0.19581035 -0.16669179\nfamrel        -0.126342672  0.139596565  -0.048069014 -0.05618075 -0.08710139\nfreetime       0.119021094  0.070864701  -0.046300383 -0.01710077 -0.02967703\ngoout          0.378591514 -0.049000564   0.078848996 -0.11588280 -0.15897835\nDalc           0.649893859  0.059963287   0.151598836 -0.09641793 -0.05916707\nWalc           1.000000000  0.070450703   0.208026186 -0.07964360 -0.06540510\nhealth         0.070450703  1.000000000   0.012122515 -0.06155381 -0.07666718\nabsences.math  0.208026186  0.012122515   1.000000000 -0.06946116 -0.07580245\nG1.math       -0.079643599 -0.061553810  -0.069461164  1.00000000  0.86588796\nG2.math       -0.065405098 -0.076667185  -0.075802450  0.86588796  1.00000000\nG3.math       -0.027623053 -0.047513775  -0.028118470  0.81859418  0.91357599\nabsences.port  0.150366322 -0.001077612   0.563815592 -0.08760610 -0.12636236\nG1.port       -0.158160549 -0.126244006  -0.092477610  0.59293522  0.54300736\nG2.port       -0.183295800 -0.170419288  -0.145164017  0.59517224  0.56521350\nG3.port       -0.182606733 -0.162249671  -0.135726385  0.54388734  0.49603265\n                   G3.math absences.port     G1.port     G2.port      G3.port\nage           -0.206031862   0.047331821 -0.05054968  0.02936646 -0.009103257\nMedu           0.187754424   0.063530536  0.18142371  0.18964202  0.158979933\nFedu           0.141990610   0.086614161  0.11553102  0.13699442  0.107807478\ntraveltime    -0.165110961   0.054308059 -0.17819166 -0.17961156 -0.153616466\nstudytime      0.045402243  -0.134969383  0.22973929  0.23105973  0.238553746\nfailures      -0.143032028   0.134242644 -0.26927657 -0.26992597 -0.327756897\nfamrel        -0.017975700  -0.029552034 -0.06419546 -0.02441686 -0.012829483\nfreetime      -0.006516202  -0.011429255 -0.08562990 -0.08723187 -0.110638817\ngoout         -0.118423233   0.128521823 -0.07190576 -0.09115155 -0.073423265\nDalc          -0.046964337   0.107538550 -0.23398211 -0.25300707 -0.279923052\nWalc          -0.027623053   0.150366322 -0.15816055 -0.18329580 -0.182606733\nhealth        -0.047513775  -0.001077612 -0.12624401 -0.17041929 -0.162249671\nabsences.math -0.028118470   0.563815592 -0.09247761 -0.14516402 -0.135726385\nG1.math        0.818594184  -0.087606100  0.59293522  0.59517224  0.543887345\nG2.math        0.913575991  -0.126362360  0.54300736  0.56521350  0.496032649\nG3.math        1.000000000  -0.116640460  0.52288461  0.54545279  0.475956497\nabsences.port -0.116640460   1.000000000 -0.09864117 -0.12070727 -0.071452010\nG1.port        0.522884610  -0.098641173  1.00000000  0.88415041  0.825414320\nG2.port        0.545452789  -0.120707273  0.88415041  1.00000000  0.894309821\nG3.port        0.475956497  -0.071452010  0.82541432  0.89430982  1.000000000\n\n\n\n\nCreate histogram, kernel density, and boxplots\n\n#Historgram of G3 across school\n# Create histogram for G3 across school\nggplot(combined, aes(x = G3.math, fill = school)) +\n  geom_histogram(alpha = 0.6, position = \"identity\", bins = 20) +  # position = \"identity\" overlays the bars\n  labs(title = \"Distribution of Math Grades (G3.math) by School\",\n       x = \"Math Grade (G3.math)\",\n       y = \"Count\",\n       fill = \"School\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nComment: Distribution of Grade 3 math scores are fairly normal, slightly skewed right\n\n#kernel density of absences by school\nggplot(combined, aes(x = absences.math, fill = school)) +\n  geom_density(alpha = 0.6) +\n  labs(title = \"Kernel Density of Absences by School\",\n       x = \"Number of Absences\",\n       y = \"Density\",\n       fill = \"School\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nComment: most students from both schools do not have a lot of absences\n\n# Boxplot for G3 across school\nggplot(combined, aes(x = school, y = G3.math, fill = school)) +\n  geom_boxplot(alpha = 0.7) +\n  labs(title = \"Boxplot of Final Period Grade (G3.math) by School\",\n       x = \"School\",\n       y = \"Grade (G3.math)\",\n       fill = \"School\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nComment: G3 math scores are fairly evenly distributed between schools\n\n\n\nCreate Scatterplot of G3.math vs. absences with jitter and color by school (no faceting)\n\nggplot(combined, aes(x = absences.math, y = G3.math, color = school)) +\n  geom_jitter(width = 0.2, height = 0.2, alpha = 0.8) +  \n  labs(title = \"Grade (G3.math) vs. Absences by School\",\n       x = \"Number of Absences\",\n       y = \"Final Period Grade (G3.math)\",\n       color = \"School\") +\n  theme_minimal()\n\n\n\n\n\n\n\n# Scatterplot of G3 vs. age with jitter and color by sex\nggplot(combined, aes(x = age, y = G3.math, color = sex)) +\n  geom_jitter(width = 0.2, height = 0.2, alpha = 0.8) +  \n  labs(title = \"Final Period Grade (G3.math) vs. Age by Sex\",\n       x = \"Age\",\n       y = \"Final Period Grade (G3.math)\",\n       color = \"Sex\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nComment: Final Period Grade (G3.math) scores are evenly scattered between sex for a given age\n\n\n\nCreate Scatterplot of G3 vs. absences with faceting by sex and color by school\n\nggplot(combined, aes(x = absences.math, y = G3.math, color = school)) +\n  geom_jitter(width = 0.2, height = 0.2, alpha = 0.8) +\n  labs(title = \"Final Grade (G3) vs. Absences, Faceted by Sex\",\n       x = \"Number of Absences\",\n       y = \"Final Grade (G3)\",\n       color = \"School\") +\n  theme_minimal() +\n  facet_wrap(~ sex) +\n  theme(\n    panel.border = element_rect(color = \"black\", fill = NA, linewidth = 1),\n    panel.spacing = unit(1, \"lines\")\n  )\n\n\n\n\n\n\n\n# Scatterplot of G3 vs. age with faceting by school and color by sex\nggplot(combined, aes(x = age, y = G3.math, color = sex)) +\n  geom_jitter(width = 0.2, height = 0.2, alpha = 0.8) +  # Jitter to avoid overlap\n  labs(title = \"Final Grade (G3) vs. Age, Faceted by School\",\n       x = \"Age\",\n       y = \"Final Grade (G3)\",\n       color = \"Sex\") +\n  theme_minimal() +\n  facet_wrap(~ school) +  # Facet by the 'school' variable\n  theme(\n    panel.border = element_rect(color = \"black\", fill = NA, linewidth = 1),  # Add a black border around each facet\n    panel.spacing = unit(1, \"lines\")  # Increase the space between facets\n  )\n\n\n\n\n\n\n\n# Scatterplot of G3 vs. age, faceted by school and sex\nggplot(combined, aes(x = age, y = G3.math, color = school)) +\n  geom_jitter(width = 0.2, height = 0.2, alpha = 0.8) +  # Jitter to avoid overlap\n  labs(title = \"Final Grade (G3) vs. Age, Faceted by School and Sex\",\n       x = \"Age\",\n       y = \"Final Grade (G3)\",\n       color = \"School\") +\n  theme_minimal() +\n  facet_grid(sex ~ school) +  # Facet by 'sex' for rows and 'school' for columns\n  theme(\n    panel.border = element_rect(color = \"black\", fill = NA, size = 1),  # Add a border around each facet\n    panel.spacing = unit(1, \"lines\")  # Increase the space between facets\n  )\n\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\n\n\n\n\n\n\n\n\n\nComment: Final Period Grade (G3.math) scores are evenly scattered throughout most categories, with one interesting note that there seem to be very few Final Grades for G3.math given for MS students under the age of ~16-18"
  }
]