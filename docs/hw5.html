<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>hw5</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">hw5</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>#Task 1 - Read in and Modify Data ## Read in data from a localized file source</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">=</span><span class="fu">read.table</span>(<span class="st">"student-mat.csv"</span>,<span class="at">sep=</span><span class="st">";"</span>,<span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>d2<span class="ot">=</span><span class="fu">read.table</span>(<span class="st">"student-por.csv"</span>,<span class="at">sep=</span><span class="st">";"</span>,<span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>d3<span class="ot">=</span><span class="fu">merge</span>(d1,d2,<span class="at">by=</span><span class="fu">c</span>(<span class="st">"school"</span>,<span class="st">"sex"</span>,<span class="st">"age"</span>,<span class="st">"address"</span>,<span class="st">"famsize"</span>,<span class="st">"Pstatus"</span>,<span class="st">"Medu"</span>,<span class="st">"Fedu"</span>,<span class="st">"Mjob"</span>,<span class="st">"Fjob"</span>,<span class="st">"reason"</span>,<span class="st">"nursery"</span>,<span class="st">"internet"</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">nrow</span>(d3)) <span class="co"># 382 students</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 382</code></pre>
</div>
</div>
<section id="read-in-and-combine-with-tidyverse" class="level2">
<h2 class="anchored" data-anchor-id="read-in-and-combine-with-tidyverse">Read in and combine with tidyverse</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>math_tibbs <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(d1)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>math_na <span class="ot">&lt;-</span> <span class="fu">any</span>(<span class="fu">is.na</span>(math_tibbs))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>math_missing <span class="ot">&lt;-</span> math_tibbs <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="fu">everything</span>(), <span class="sc">~</span> . <span class="sc">==</span> <span class="st">""</span>))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>port_tibbs <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(d2)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>port_na <span class="ot">&lt;-</span> <span class="fu">any</span>(<span class="fu">is.na</span>(port_tibbs))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>port_missing <span class="ot">&lt;-</span> port_tibbs <span class="sc">|&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="fu">everything</span>(), <span class="sc">~</span> . <span class="sc">==</span> <span class="st">""</span>))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> math_tibbs <span class="sc">|&gt;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(port_tibbs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"school"</span>,<span class="st">"sex"</span>,<span class="st">"age"</span>,<span class="st">"address"</span>,<span class="st">"famsize"</span>,<span class="st">"Pstatus"</span>,<span class="st">"Medu"</span>,<span class="st">"Fedu"</span>,<span class="st">"Mjob"</span>,<span class="st">"Fjob"</span>,<span class="st">"reason"</span>,<span class="st">"nursery"</span>,<span class="st">"internet"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in inner_join(math_tibbs, port_tibbs, by = c("school", "sex", "age", : Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 79 of `x` matches multiple rows in `y`.
ℹ Row 79 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(combined)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   382</code></pre>
</div>
</div>
<section id="issue---warning-detected-an-unexpected-many-to-many-relationship-between-x-and-y" class="level5">
<h5 class="anchored" data-anchor-id="issue---warning-detected-an-unexpected-many-to-many-relationship-between-x-and-y">Issue - “Warning: Detected an unexpected many-to-many relationship between x and y”</h5>
</section>
<section id="troubleshooting" class="level5">
<h5 class="anchored" data-anchor-id="troubleshooting">Troubleshooting</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Detected an unexpected many-to-many relationship between `x` and `y`.</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ℹ Row 79 of `x` matches multiple rows in `y`.</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ℹ Row 79 of `y` matches multiple rows in `x`.</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ℹ If a many-to-many relationship is expected, set `relationship = "many-to-many"` to silence this warning.</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>port_row_79 <span class="ot">&lt;-</span> port_tibbs <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">79</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>math_row_79 <span class="ot">&lt;-</span> math_tibbs <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">79</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>combo_row_79 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(port_row_79, math_row_79)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interpretation---previous-selection-of-by-vars-do-not-provide-uniqueness-in-the-record-they-contain-the-same-values-but-the-same-number-of-observations-as-the-provided-merge-exist-so-will-proceed.-further-glimpse-of-the-duplicate-records-show-the-unique-key-contains-all-values-except-g1-g2-g3-paid-and-absences" class="level5">
<h5 class="anchored" data-anchor-id="interpretation---previous-selection-of-by-vars-do-not-provide-uniqueness-in-the-record-they-contain-the-same-values-but-the-same-number-of-observations-as-the-provided-merge-exist-so-will-proceed.-further-glimpse-of-the-duplicate-records-show-the-unique-key-contains-all-values-except-g1-g2-g3-paid-and-absences">Interpretation - previous selection of by vars do not provide uniqueness in the record (they contain the same values) but the same number of observations as the provided merge exist, so will proceed. Further glimpse() of the duplicate records show the unique key contains all values except <code>G1</code>, <code>G2</code>, <code>G3</code>, <code>paid</code>, and <code>absences</code></h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(combo_row_79)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2
Columns: 33
$ school     &lt;chr&gt; "GP", "GP"
$ sex        &lt;chr&gt; "M", "M"
$ age        &lt;int&gt; 17, 17
$ address    &lt;chr&gt; "U", "U"
$ famsize    &lt;chr&gt; "GT3", "GT3"
$ Pstatus    &lt;chr&gt; "T", "T"
$ Medu       &lt;int&gt; 2, 2
$ Fedu       &lt;int&gt; 1, 1
$ Mjob       &lt;chr&gt; "other", "other"
$ Fjob       &lt;chr&gt; "other", "other"
$ reason     &lt;chr&gt; "home", "home"
$ guardian   &lt;chr&gt; "mother", "mother"
$ traveltime &lt;int&gt; 2, 2
$ studytime  &lt;int&gt; 1, 1
$ failures   &lt;int&gt; 3, 3
$ schoolsup  &lt;chr&gt; "yes", "yes"
$ famsup     &lt;chr&gt; "yes", "yes"
$ paid       &lt;chr&gt; "no", "no"
$ activities &lt;chr&gt; "yes", "yes"
$ nursery    &lt;chr&gt; "yes", "yes"
$ higher     &lt;chr&gt; "no", "no"
$ internet   &lt;chr&gt; "yes", "yes"
$ romantic   &lt;chr&gt; "no", "no"
$ famrel     &lt;int&gt; 4, 4
$ freetime   &lt;int&gt; 5, 5
$ goout      &lt;int&gt; 1, 1
$ Dalc       &lt;int&gt; 1, 1
$ Walc       &lt;int&gt; 1, 1
$ health     &lt;int&gt; 3, 3
$ absences   &lt;int&gt; 0, 2
$ G1         &lt;int&gt; 9, 8
$ G2         &lt;int&gt; 9, 8
$ G3         &lt;int&gt; 10, 10</code></pre>
</div>
</div>
</section>
<section id="inner-join-all-vars-other-than-g1-g2-g3-paid-and-absences" class="level3">
<h3 class="anchored" data-anchor-id="inner-join-all-vars-other-than-g1-g2-g3-paid-and-absences">Inner join all vars other than <code>G1</code>, <code>G2</code>, <code>G3</code>, <code>paid</code>, and <code>absences</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> math_tibbs <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(port_tibbs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"school"</span>,<span class="st">"sex"</span>,<span class="st">"age"</span>,<span class="st">"address"</span>,<span class="st">"famsize"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Pstatus"</span>,<span class="st">"Medu"</span>,<span class="st">"Fedu"</span>,<span class="st">"Mjob"</span>,<span class="st">"Fjob"</span>,<span class="st">"reason"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"guardian"</span>,<span class="st">"traveltime"</span>,<span class="st">"studytime"</span>,<span class="st">"failures"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"schoolsup"</span>,<span class="st">"famsup"</span>,<span class="st">"activities"</span>,<span class="st">"nursery"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"internet"</span>, <span class="st">"romantic"</span>,<span class="st">"famrel"</span>,<span class="st">"freetime"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"goout"</span>,<span class="st">"Dalc"</span>,<span class="st">"Walc"</span>,<span class="st">"health"</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">".math"</span>, <span class="st">".port"</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="choose-interesting-categorical-vars-and-convert-to-factors" class="level3">
<h3 class="anchored" data-anchor-id="choose-interesting-categorical-vars-and-convert-to-factors">Choose interesting categorical vars and convert to factors</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">school =</span> <span class="fu">factor</span>(school,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"GP"</span>, <span class="st">"MS"</span>),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Gabriel Pereira"</span>, <span class="st">"Mousinho da Silveira"</span>)),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">address =</span> <span class="fu">factor</span>(address,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"U"</span>, <span class="st">"R"</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Urban"</span>, <span class="st">"Rural"</span>)),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">reason =</span> <span class="fu">factor</span>(reason,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"course"</span>, <span class="st">"home"</span>, <span class="st">"reputation"</span>, <span class="st">"other"</span>),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"course"</span>, <span class="st">"home"</span>, <span class="st">"reputation"</span>, <span class="st">"other"</span>)),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">guardian =</span> <span class="fu">factor</span>(guardian,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"mother"</span>, <span class="st">"father"</span>, <span class="st">"other"</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"mother"</span>, <span class="st">"father"</span>, <span class="st">"other"</span>)),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">Mjob =</span> <span class="fu">factor</span>(Mjob,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"at_home"</span>,<span class="st">"health"</span>,<span class="st">"other"</span>,<span class="st">"services"</span>,<span class="st">"teacher"</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"at_home"</span>,<span class="st">"health"</span>,<span class="st">"other"</span>,<span class="st">"services"</span>,<span class="st">"teacher"</span>)),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fjob =</span> <span class="fu">factor</span>(Fjob,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"teacher"</span>,<span class="st">"other"</span>,<span class="st">"services"</span>,<span class="st">"health"</span>,<span class="st">"at_home"</span>),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"teacher"</span>,<span class="st">"other"</span>,<span class="st">"services"</span>,<span class="st">"health"</span>,<span class="st">"at_home"</span>))</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co">#check levels are applied according to underlying data</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="co">#"look at how the data are stored and see if everything makes sense"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="levels" class="level4">
<h4 class="anchored" data-anchor-id="levels">Levels</h4>
<section id="school" class="level5">
<h5 class="anchored" data-anchor-id="school">School</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(combined<span class="sc">$</span>school)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Gabriel Pereira"      "Mousinho da Silveira"</code></pre>
</div>
</div>
</section>
<section id="address" class="level5">
<h5 class="anchored" data-anchor-id="address">Address</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(combined<span class="sc">$</span>address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Urban" "Rural"</code></pre>
</div>
</div>
</section>
<section id="reason" class="level5">
<h5 class="anchored" data-anchor-id="reason">Reason</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(combined<span class="sc">$</span>reason)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "course"     "home"       "reputation" "other"     </code></pre>
</div>
</div>
</section>
<section id="guardian" class="level5">
<h5 class="anchored" data-anchor-id="guardian">Guardian</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(combined<span class="sc">$</span>guardian)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mother" "father" "other" </code></pre>
</div>
</div>
</section>
<section id="mjob" class="level5">
<h5 class="anchored" data-anchor-id="mjob">Mjob</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(combined<span class="sc">$</span>Mjob)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "at_home"  "health"   "other"    "services" "teacher" </code></pre>
</div>
</div>
</section>
<section id="fjob" class="level5">
<h5 class="anchored" data-anchor-id="fjob">Fjob</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(combined<span class="sc">$</span>Fjob)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "teacher"  "other"    "services" "health"   "at_home" </code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="task-2---summarize-the-data" class="level2">
<h2 class="anchored" data-anchor-id="task-2---summarize-the-data">Task 2 - Summarize the Data</h2>
<section id="document-missing-values-in-data" class="level3">
<h3 class="anchored" data-anchor-id="document-missing-values-in-data">Document missing values in data</h3>
<section id="result-no-missing-data-found" class="level4">
<h4 class="anchored" data-anchor-id="result-no-missing-data-found">Result: no missing data found</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the positions of NA values in the tibble</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>na_positions <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">is.na</span>(combined), <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>combined_missing <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="fu">everything</span>(), <span class="sc">~</span> . <span class="sc">==</span> <span class="st">""</span>))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(combined_missing)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 0
Columns: 39
$ school        &lt;fct&gt; 
$ sex           &lt;chr&gt; 
$ age           &lt;int&gt; 
$ address       &lt;fct&gt; 
$ famsize       &lt;chr&gt; 
$ Pstatus       &lt;chr&gt; 
$ Medu          &lt;int&gt; 
$ Fedu          &lt;int&gt; 
$ Mjob          &lt;fct&gt; 
$ Fjob          &lt;fct&gt; 
$ reason        &lt;fct&gt; 
$ guardian      &lt;fct&gt; 
$ traveltime    &lt;int&gt; 
$ studytime     &lt;int&gt; 
$ failures      &lt;int&gt; 
$ schoolsup     &lt;chr&gt; 
$ famsup        &lt;chr&gt; 
$ paid.math     &lt;chr&gt; 
$ activities    &lt;chr&gt; 
$ nursery       &lt;chr&gt; 
$ higher.math   &lt;chr&gt; 
$ internet      &lt;chr&gt; 
$ romantic      &lt;chr&gt; 
$ famrel        &lt;int&gt; 
$ freetime      &lt;int&gt; 
$ goout         &lt;int&gt; 
$ Dalc          &lt;int&gt; 
$ Walc          &lt;int&gt; 
$ health        &lt;int&gt; 
$ absences.math &lt;int&gt; 
$ G1.math       &lt;int&gt; 
$ G2.math       &lt;int&gt; 
$ G3.math       &lt;int&gt; 
$ paid.port     &lt;chr&gt; 
$ higher.port   &lt;chr&gt; 
$ absences.port &lt;int&gt; 
$ G1.port       &lt;int&gt; 
$ G2.port       &lt;int&gt; 
$ G3.port       &lt;int&gt; </code></pre>
</div>
</div>
</section>
</section>
<section id="categorical-values" class="level3">
<h3 class="anchored" data-anchor-id="categorical-values">Categorical Values</h3>
<section id="create-1-way-contingency-table" class="level4">
<h4 class="anchored" data-anchor-id="create-1-way-contingency-table">Create 1-way contingency table</h4>
<section id="interpretation-more-students-attend-gabriel-pereira-than-mousinho-da-silveira" class="level5">
<h5 class="anchored" data-anchor-id="interpretation-more-students-attend-gabriel-pereira-than-mousinho-da-silveira">Interpretation: More students attend Gabriel Pereira than Mousinho da Silveira</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1-way table (school)</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>school_table <span class="ot">&lt;-</span> <span class="fu">table</span>(combined<span class="sc">$</span>school)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(school_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Gabriel Pereira Mousinho da Silveira 
                 287                   33 </code></pre>
</div>
</div>
</section>
</section>
<section id="create-2-way-contingency-table-school-x-address" class="level4">
<h4 class="anchored" data-anchor-id="create-2-way-contingency-table-school-x-address">Create 2-way contingency table (school x address)</h4>
<section id="interpretation-more-urban-students-attend-gabriel-pereira.-more-rural-students" class="level5">
<h5 class="anchored" data-anchor-id="interpretation-more-urban-students-attend-gabriel-pereira.-more-rural-students">Interpretation: More urban students attend Gabriel Pereira. More rural students</h5>
<pre><code>                  attend Mousinho da Silveira, but is fairly balanced between 
                  urban and rural.</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>school_by_address_table <span class="ot">&lt;-</span> <span class="fu">table</span>(combined<span class="sc">$</span>school,combined<span class="sc">$</span>address)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(school_by_address_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      
                       Urban Rural
  Gabriel Pereira        239    48
  Mousinho da Silveira    14    19</code></pre>
</div>
</div>
</section>
</section>
<section id="create-3-way-contingency-table-school-x-address-by-reason" class="level4">
<h4 class="anchored" data-anchor-id="create-3-way-contingency-table-school-x-address-by-reason">Create 3-way contingency table (school x address by reason)</h4>
<section id="interpretation-a-majority-of-students-attend-gp-because-of-its-coursework" class="level5">
<h5 class="anchored" data-anchor-id="interpretation-a-majority-of-students-attend-gp-because-of-its-coursework">Interpretation: A majority of students attend GP because of it’s coursework,</h5>
<p>proximity to home, and reputation. MS seems relatively undifferentiated across categories</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>school_x_address_by_reason <span class="ot">&lt;-</span> <span class="fu">table</span>(combined<span class="sc">$</span>address,combined<span class="sc">$</span>school,combined<span class="sc">$</span>reason)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(school_x_address_by_reason)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, ,  = course

       
        Gabriel Pereira Mousinho da Silveira
  Urban              84                    6
  Rural              22                    6

, ,  = home

       
        Gabriel Pereira Mousinho da Silveira
  Urban              73                    5
  Rural               6                    3

, ,  = reputation

       
        Gabriel Pereira Mousinho da Silveira
  Urban              63                    1
  Rural              17                    4

, ,  = other

       
        Gabriel Pereira Mousinho da Silveira
  Urban              19                    2
  Rural               3                    6</code></pre>
</div>
</div>
</section>
</section>
<section id="conditional-two-way-table.-two-ways" class="level4">
<h4 class="anchored" data-anchor-id="conditional-two-way-table.-two-ways">Conditional two-way table. Two-ways</h4>
<section id="first-way-subset-by-filtering" class="level5">
<h5 class="anchored" data-anchor-id="first-way-subset-by-filtering">First way: subset by filtering</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter first</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>subset_sch_GP <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school <span class="sc">==</span> <span class="st">"Gabriel Pereira"</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>address_x_reason <span class="ot">&lt;-</span> <span class="fu">table</span>(subset_sch_GP<span class="sc">$</span>address, subset_sch_GP<span class="sc">$</span>reason)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(address_x_reason)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
        course home reputation other
  Urban     84   73         63    19
  Rural     22    6         17     3</code></pre>
</div>
</div>
</section>
<section id="second-way---subset-a-3-way-table" class="level5">
<h5 class="anchored" data-anchor-id="second-way---subset-a-3-way-table">Second Way - Subset a 3 way table</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>subset_3_way <span class="ot">&lt;-</span> school_x_address_by_reason[,<span class="st">"Gabriel Pereira"</span>,]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(subset_3_way)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
        course home reputation other
  Urban     84   73         63    19
  Rural     22    6         17     3</code></pre>
</div>
</div>
</section>
</section>
<section id="create-a-2-way-contingency-using-group_by-and-summarize-pivot_wider" class="level4">
<h4 class="anchored" data-anchor-id="create-a-2-way-contingency-using-group_by-and-summarize-pivot_wider">Create a 2-way contingency using group_by() and summarize() + pivot_wider()</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>group_by_2_way <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school, address, reason) <span class="sc">|&gt;</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(group_by_2_way)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 4
   school               address reason     count
   &lt;fct&gt;                &lt;fct&gt;   &lt;fct&gt;      &lt;int&gt;
 1 Gabriel Pereira      Urban   course        84
 2 Gabriel Pereira      Urban   home          73
 3 Gabriel Pereira      Urban   reputation    63
 4 Gabriel Pereira      Urban   other         19
 5 Gabriel Pereira      Rural   course        22
 6 Gabriel Pereira      Rural   home           6
 7 Gabriel Pereira      Rural   reputation    17
 8 Gabriel Pereira      Rural   other          3
 9 Mousinho da Silveira Urban   course         6
10 Mousinho da Silveira Urban   home           5
11 Mousinho da Silveira Urban   reputation     1
12 Mousinho da Silveira Urban   other          2
13 Mousinho da Silveira Rural   course         6
14 Mousinho da Silveira Rural   home           3
15 Mousinho da Silveira Rural   reputation     4
16 Mousinho da Silveira Rural   other          6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>group_by_2_way_wide <span class="ot">&lt;-</span> group_by_2_way <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> address, <span class="at">values_from =</span> count, <span class="at">values_fill =</span> <span class="dv">0</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(group_by_2_way_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
  school               reason     Urban Rural
  &lt;fct&gt;                &lt;fct&gt;      &lt;int&gt; &lt;int&gt;
1 Gabriel Pereira      course        84    22
2 Gabriel Pereira      home          73     6
3 Gabriel Pereira      reputation    63    17
4 Gabriel Pereira      other         19     3
5 Mousinho da Silveira course         6     6
6 Mousinho da Silveira home           5     3
7 Mousinho da Silveira reputation     1     4
8 Mousinho da Silveira other          2     6</code></pre>
</div>
</div>
</section>
<section id="create-stacked-bar-graph-side-by-side-bar-graph" class="level4">
<h4 class="anchored" data-anchor-id="create-stacked-bar-graph-side-by-side-bar-graph">Create stacked bar graph + side-by-side bar graph</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> address, <span class="at">fill =</span> reason)) <span class="sc">+</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Reasons by Address"</span>,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Address (Urban/Rural)"</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Reason"</span>) <span class="sc">+</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Create a side-by-side bar graph with ggplot2</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> address, <span class="at">fill =</span> reason)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Reasons by Address (Side-by-Side)"</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Address (Urban/Rural)"</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Reason"</span>) <span class="sc">+</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="numeric-variables-and-across-groups" class="level3">
<h3 class="anchored" data-anchor-id="numeric-variables-and-across-groups">Numeric Variables (and across groups)</h3>
<section id="find-measures-of-center-and-spread-g3-from-math-dataset-age-absence" class="level4">
<h4 class="anchored" data-anchor-id="find-measures-of-center-and-spread-g3-from-math-dataset-age-absence">Find measures of center and spread (G3 (from math dataset), age, absence)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_mean =</span> <span class="fu">mean</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_median =</span> <span class="fu">median</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_sd =</span> <span class="fu">sd</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_iqr =</span> <span class="fu">IQR</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_median =</span> <span class="fu">median</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_iqr =</span> <span class="fu">IQR</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_mean =</span> <span class="fu">mean</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_median =</span> <span class="fu">median</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_sd =</span> <span class="fu">sd</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_iqr =</span> <span class="fu">IQR</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"statistic"</span>,</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 2
   statistic       value
   &lt;chr&gt;           &lt;dbl&gt;
 1 g3_mean         11.0 
 2 g3_median       11   
 3 g3_sd            4.30
 4 g3_iqr           5   
 5 age_mean        16.5 
 6 age_median      16   
 7 age_sd           1.14
 8 age_iqr          1   
 9 absences_mean    5.41
10 absences_median  4   
11 absences_sd      7.84
12 absences_iqr     7.25</code></pre>
</div>
</div>
</section>
<section id="subset-in-a-meaningful-way" class="level4">
<h4 class="anchored" data-anchor-id="subset-in-a-meaningful-way">Subset in a meaningful way</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>summary_stats_grp_by <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school <span class="sc">==</span> <span class="st">"Gabriel Pereira"</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school, address, reason) <span class="sc">|&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_mean =</span> <span class="fu">mean</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_median =</span> <span class="fu">median</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_sd =</span> <span class="fu">sd</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_iqr =</span> <span class="fu">IQR</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_median =</span> <span class="fu">median</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_iqr =</span> <span class="fu">IQR</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_mean =</span> <span class="fu">mean</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_median =</span> <span class="fu">median</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_sd =</span> <span class="fu">sd</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_iqr =</span> <span class="fu">IQR</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_stats_grp_by)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 15
  school       address reason g3_mean g3_median g3_sd g3_iqr age_mean age_median
  &lt;fct&gt;        &lt;fct&gt;   &lt;fct&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
1 Gabriel Per… Urban   course    10.5        11  4.63   4        16.3         16
2 Gabriel Per… Urban   home      11.2        11  4.39   5        16.3         16
3 Gabriel Per… Urban   reput…    12.3        13  3.41   4.5      16.4         16
4 Gabriel Per… Urban   other     12.4        13  3.89   5        16.4         16
5 Gabriel Per… Rural   course    10.0        11  4.92   4        16.6         17
6 Gabriel Per… Rural   home      11          10  2      2.25     16.7         17
7 Gabriel Per… Rural   reput…    11.1        11  4.72   7        16.6         17
8 Gabriel Per… Rural   other     10          10  1      1        16.3         16
# ℹ 6 more variables: age_sd &lt;dbl&gt;, age_iqr &lt;dbl&gt;, absences_mean &lt;dbl&gt;,
#   absences_median &lt;dbl&gt;, absences_sd &lt;dbl&gt;, absences_iqr &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="measures-of-center-and-spread-across-a-single-grouping-school" class="level4">
<h4 class="anchored" data-anchor-id="measures-of-center-and-spread-across-a-single-grouping-school">measures of center and spread across a single grouping (school)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>summary_stats_single_grp <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school) <span class="sc">|&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_mean =</span> <span class="fu">mean</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_median =</span> <span class="fu">median</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_sd =</span> <span class="fu">sd</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_iqr =</span> <span class="fu">IQR</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_median =</span> <span class="fu">median</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_iqr =</span> <span class="fu">IQR</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_mean =</span> <span class="fu">mean</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_median =</span> <span class="fu">median</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_sd =</span> <span class="fu">sd</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_iqr =</span> <span class="fu">IQR</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_stats_single_grp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 13
  school       g3_mean g3_median g3_sd g3_iqr age_mean age_median age_sd age_iqr
  &lt;fct&gt;          &lt;dbl&gt;     &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;
1 Gabriel Per…   11.2         11  4.27      5     16.4         16  1.10        1
2 Mousinho da…    9.88        10  4.44      4     17.8         18  0.600       1
# ℹ 4 more variables: absences_mean &lt;dbl&gt;, absences_median &lt;int&gt;,
#   absences_sd &lt;dbl&gt;, absences_iqr &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="measures-of-center-and-spread-across-a-double-grouping-school-address" class="level4">
<h4 class="anchored" data-anchor-id="measures-of-center-and-spread-across-a-double-grouping-school-address">measures of center and spread across a double grouping (school, address)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>summary_stats_double_grp <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school, address) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_mean =</span> <span class="fu">mean</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_median =</span> <span class="fu">median</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_sd =</span> <span class="fu">sd</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">g3_iqr =</span> <span class="fu">IQR</span>(G3.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_median =</span> <span class="fu">median</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_iqr =</span> <span class="fu">IQR</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_mean =</span> <span class="fu">mean</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_median =</span> <span class="fu">median</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_sd =</span> <span class="fu">sd</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">absences_iqr =</span> <span class="fu">IQR</span>(absences.math, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'school'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_stats_double_grp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 14
# Groups:   school [2]
  school       address g3_mean g3_median g3_sd g3_iqr age_mean age_median age_sd
  &lt;fct&gt;        &lt;fct&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;
1 Gabriel Per… Urban     11.3         11  4.25   5        16.3         16  1.11 
2 Gabriel Per… Rural     10.5         11  4.38   4.5      16.6         17  1.05 
3 Mousinho da… Urban     12           11  2.75   4.75     17.6         18  0.497
4 Mousinho da… Rural      8.32        10  4.85   5        17.9         18  0.658
# ℹ 5 more variables: age_iqr &lt;dbl&gt;, absences_mean &lt;dbl&gt;,
#   absences_median &lt;dbl&gt;, absences_sd &lt;dbl&gt;, absences_iqr &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="correlation-matrix-for-numeric-variables" class="level4">
<h4 class="anchored" data-anchor-id="correlation-matrix-for-numeric-variables">Correlation matrix for numeric variables</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>num_vars <span class="ot">&lt;-</span> combined <span class="sc">|&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>corr_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(num_vars, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(corr_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       age         Medu         Fedu   traveltime    studytime
age            1.000000000 -0.100949786 -0.107245313  0.160281754  0.043881028
Medu          -0.100949786  1.000000000  0.621523869 -0.218794954  0.045425978
Fedu          -0.107245313  0.621523869  1.000000000 -0.193978042 -0.039289626
traveltime     0.160281754 -0.218794954 -0.193978042  1.000000000 -0.103243249
studytime      0.043881028  0.045425978 -0.039289626 -0.103243249  1.000000000
failures       0.243429617 -0.125608045 -0.157496645  0.104521138 -0.179515785
famrel         0.049940980 -0.067657746 -0.047260992 -0.027275744  0.001381660
freetime      -0.045824466  0.004013326 -0.001258667 -0.055899592 -0.091829632
goout          0.150794790  0.065832096  0.050593936  0.006559725 -0.009403345
Dalc           0.113952023  0.062866542  0.039126588  0.161272613 -0.172278644
Walc           0.156817685 -0.004099434  0.023315814  0.105381347 -0.232402574
health        -0.113225976 -0.011497172  0.067152933  0.020869407 -0.040979063
absences.math  0.143925170  0.099832689  0.024617771 -0.001464243 -0.082387919
G1.math       -0.110379348  0.193071603  0.175557917 -0.088080745  0.125691378
G2.math       -0.186187399  0.188735230  0.150418214 -0.184594967  0.089030600
G3.math       -0.206031862  0.187754424  0.141990610 -0.165110961  0.045402243
absences.port  0.047331821  0.063530536  0.086614161  0.054308059 -0.134969383
G1.port       -0.050549678  0.181423706  0.115531025 -0.178191662  0.229739293
G2.port        0.029366456  0.189642017  0.136994424 -0.179611557  0.231059730
G3.port       -0.009103257  0.158979933  0.107807478 -0.153616466  0.238553746
                 failures      famrel     freetime        goout        Dalc
age            0.24342962  0.04994098 -0.045824466  0.150794790  0.11395202
Medu          -0.12560804 -0.06765775  0.004013326  0.065832096  0.06286654
Fedu          -0.15749664 -0.04726099 -0.001258667  0.050593936  0.03912659
traveltime     0.10452114 -0.02727574 -0.055899592  0.006559725  0.16127261
studytime     -0.17951579  0.00138166 -0.091829632 -0.009403345 -0.17227864
failures       1.00000000  0.09437401  0.089757964  0.097119445  0.16213974
famrel         0.09437401  1.00000000  0.090946059  0.033058834 -0.05737989
freetime       0.08975796  0.09094606  1.000000000  0.243271162  0.20497133
goout          0.09711944  0.03305883  0.243271162  1.000000000  0.25703214
Dalc           0.16213974 -0.05737989  0.204971335  0.257032140  1.00000000
Walc           0.16736348 -0.12634267  0.119021094  0.378591514  0.64989386
health         0.04225577  0.13959656  0.070864701 -0.049000564  0.05996329
absences.math  0.12006863 -0.04806901 -0.046300383  0.078848996  0.15159884
G1.math       -0.19581035 -0.05618075 -0.017100766 -0.115882796 -0.09641793
G2.math       -0.16669179 -0.08710139 -0.029677027 -0.158978350 -0.05916707
G3.math       -0.14303203 -0.01797570 -0.006516202 -0.118423233 -0.04696434
absences.port  0.13424264 -0.02955203 -0.011429255  0.128521823  0.10753855
G1.port       -0.26927657 -0.06419546 -0.085629896 -0.071905764 -0.23398211
G2.port       -0.26992597 -0.02441686 -0.087231866 -0.091151551 -0.25300707
G3.port       -0.32775690 -0.01282948 -0.110638817 -0.073423265 -0.27992305
                      Walc       health absences.math     G1.math     G2.math
age            0.156817685 -0.113225976   0.143925170 -0.11037935 -0.18618740
Medu          -0.004099434 -0.011497172   0.099832689  0.19307160  0.18873523
Fedu           0.023315814  0.067152933   0.024617771  0.17555792  0.15041821
traveltime     0.105381347  0.020869407  -0.001464243 -0.08808075 -0.18459497
studytime     -0.232402574 -0.040979063  -0.082387919  0.12569138  0.08903060
failures       0.167363479  0.042255769   0.120068630 -0.19581035 -0.16669179
famrel        -0.126342672  0.139596565  -0.048069014 -0.05618075 -0.08710139
freetime       0.119021094  0.070864701  -0.046300383 -0.01710077 -0.02967703
goout          0.378591514 -0.049000564   0.078848996 -0.11588280 -0.15897835
Dalc           0.649893859  0.059963287   0.151598836 -0.09641793 -0.05916707
Walc           1.000000000  0.070450703   0.208026186 -0.07964360 -0.06540510
health         0.070450703  1.000000000   0.012122515 -0.06155381 -0.07666718
absences.math  0.208026186  0.012122515   1.000000000 -0.06946116 -0.07580245
G1.math       -0.079643599 -0.061553810  -0.069461164  1.00000000  0.86588796
G2.math       -0.065405098 -0.076667185  -0.075802450  0.86588796  1.00000000
G3.math       -0.027623053 -0.047513775  -0.028118470  0.81859418  0.91357599
absences.port  0.150366322 -0.001077612   0.563815592 -0.08760610 -0.12636236
G1.port       -0.158160549 -0.126244006  -0.092477610  0.59293522  0.54300736
G2.port       -0.183295800 -0.170419288  -0.145164017  0.59517224  0.56521350
G3.port       -0.182606733 -0.162249671  -0.135726385  0.54388734  0.49603265
                   G3.math absences.port     G1.port     G2.port      G3.port
age           -0.206031862   0.047331821 -0.05054968  0.02936646 -0.009103257
Medu           0.187754424   0.063530536  0.18142371  0.18964202  0.158979933
Fedu           0.141990610   0.086614161  0.11553102  0.13699442  0.107807478
traveltime    -0.165110961   0.054308059 -0.17819166 -0.17961156 -0.153616466
studytime      0.045402243  -0.134969383  0.22973929  0.23105973  0.238553746
failures      -0.143032028   0.134242644 -0.26927657 -0.26992597 -0.327756897
famrel        -0.017975700  -0.029552034 -0.06419546 -0.02441686 -0.012829483
freetime      -0.006516202  -0.011429255 -0.08562990 -0.08723187 -0.110638817
goout         -0.118423233   0.128521823 -0.07190576 -0.09115155 -0.073423265
Dalc          -0.046964337   0.107538550 -0.23398211 -0.25300707 -0.279923052
Walc          -0.027623053   0.150366322 -0.15816055 -0.18329580 -0.182606733
health        -0.047513775  -0.001077612 -0.12624401 -0.17041929 -0.162249671
absences.math -0.028118470   0.563815592 -0.09247761 -0.14516402 -0.135726385
G1.math        0.818594184  -0.087606100  0.59293522  0.59517224  0.543887345
G2.math        0.913575991  -0.126362360  0.54300736  0.56521350  0.496032649
G3.math        1.000000000  -0.116640460  0.52288461  0.54545279  0.475956497
absences.port -0.116640460   1.000000000 -0.09864117 -0.12070727 -0.071452010
G1.port        0.522884610  -0.098641173  1.00000000  0.88415041  0.825414320
G2.port        0.545452789  -0.120707273  0.88415041  1.00000000  0.894309821
G3.port        0.475956497  -0.071452010  0.82541432  0.89430982  1.000000000</code></pre>
</div>
</div>
</section>
<section id="create-histogram-kernel-density-and-boxplots" class="level4">
<h4 class="anchored" data-anchor-id="create-histogram-kernel-density-and-boxplots">Create histogram, kernel density, and boxplots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Historgram of G3 across school</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram for G3 across school</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> G3.math, <span class="at">fill =</span> school)) <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="st">"identity"</span>, <span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span>  <span class="co"># position = "identity" overlays the bars</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Math Grades (G3.math) by School"</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Math Grade (G3.math)"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"School"</span>) <span class="sc">+</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="comment-distribution-of-grade-3-math-scores-are-fairly-normal-slightly-skewed-right" class="level5">
<h5 class="anchored" data-anchor-id="comment-distribution-of-grade-3-math-scores-are-fairly-normal-slightly-skewed-right">Comment: Distribution of Grade 3 math scores are fairly normal, slightly skewed right</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">#kernel density of absences by school</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> absences.math, <span class="at">fill =</span> school)) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Kernel Density of Absences by School"</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of Absences"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"School"</span>) <span class="sc">+</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="comment-most-students-from-both-schools-do-not-have-a-lot-of-absences" class="level5">
<h5 class="anchored" data-anchor-id="comment-most-students-from-both-schools-do-not-have-a-lot-of-absences">Comment: most students from both schools do not have a lot of absences</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot for G3 across school</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> school, <span class="at">y =</span> G3.math, <span class="at">fill =</span> school)) <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Boxplot of Final Period Grade (G3.math) by School"</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"School"</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grade (G3.math)"</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"School"</span>) <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="comment-g3-math-scores-are-fairly-evenly-distributed-between-schools" class="level5">
<h5 class="anchored" data-anchor-id="comment-g3-math-scores-are-fairly-evenly-distributed-between-schools">Comment: G3 math scores are fairly evenly distributed between schools</h5>
</section>
</section>
<section id="create-scatterplot-of-g3.math-vs.-absences-with-jitter-and-color-by-school-no-faceting" class="level4">
<h4 class="anchored" data-anchor-id="create-scatterplot-of-g3.math-vs.-absences-with-jitter-and-color-by-school-no-faceting">Create Scatterplot of G3.math vs.&nbsp;absences with jitter and color by school (no faceting)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> absences.math, <span class="at">y =</span> G3.math, <span class="at">color =</span> school)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span>  </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Grade (G3.math) vs. Absences by School"</span>,</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of Absences"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Final Period Grade (G3.math)"</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"School"</span>) <span class="sc">+</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot of G3 vs. age with jitter and color by sex</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> G3.math, <span class="at">color =</span> sex)) <span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span>  </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Final Period Grade (G3.math) vs. Age by Sex"</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Final Period Grade (G3.math)"</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Sex"</span>) <span class="sc">+</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-30-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="comment-final-period-grade-g3.math-scores-are-evenly-scattered-between-sex-for-a-given-age" class="level5">
<h5 class="anchored" data-anchor-id="comment-final-period-grade-g3.math-scores-are-evenly-scattered-between-sex-for-a-given-age">Comment: Final Period Grade (G3.math) scores are evenly scattered between sex for a given age</h5>
</section>
</section>
<section id="create-scatterplot-of-g3-vs.-absences-with-faceting-by-sex-and-color-by-school" class="level4">
<h4 class="anchored" data-anchor-id="create-scatterplot-of-g3-vs.-absences-with-faceting-by-sex-and-color-by-school">Create Scatterplot of G3 vs.&nbsp;absences with faceting by sex and color by school</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> absences.math, <span class="at">y =</span> G3.math, <span class="at">color =</span> school)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Final Grade (G3) vs. Absences, Faceted by Sex"</span>,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of Absences"</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Final Grade (G3)"</span>,</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"School"</span>) <span class="sc">+</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> sex) <span class="sc">+</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="dv">1</span>),</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>)</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot of G3 vs. age with faceting by school and color by sex</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> G3.math, <span class="at">color =</span> sex)) <span class="sc">+</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span>  <span class="co"># Jitter to avoid overlap</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Final Grade (G3) vs. Age, Faceted by School"</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Final Grade (G3)"</span>,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Sex"</span>) <span class="sc">+</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> school) <span class="sc">+</span>  <span class="co"># Facet by the 'school' variable</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="dv">1</span>),  <span class="co"># Add a black border around each facet</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>)  <span class="co"># Increase the space between facets</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot of G3 vs. age, faceted by school and sex</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> G3.math, <span class="at">color =</span> school)) <span class="sc">+</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span>  <span class="co"># Jitter to avoid overlap</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Final Grade (G3) vs. Age, Faceted by School and Sex"</span>,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Final Grade (G3)"</span>,</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"School"</span>) <span class="sc">+</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(sex <span class="sc">~</span> school) <span class="sc">+</span>  <span class="co"># Facet by 'sex' for rows and 'school' for columns</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">size =</span> <span class="dv">1</span>),  <span class="co"># Add a border around each facet</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>)  <span class="co"># Increase the space between facets</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw5_files/figure-html/unnamed-chunk-31-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="comment-final-period-grade-g3.math-scores-are-evenly-scattered-throughout-most-categories-with-one-interesting-note-that-there-seem-to-be-very-few-final-grades-for-g3.math-given-for-ms-students-under-the-age-of-16-18" class="level5">
<h5 class="anchored" data-anchor-id="comment-final-period-grade-g3.math-scores-are-evenly-scattered-throughout-most-categories-with-one-interesting-note-that-there-seem-to-be-very-few-final-grades-for-g3.math-given-for-ms-students-under-the-age-of-16-18">Comment: Final Period Grade (G3.math) scores are evenly scattered throughout most categories, with one interesting note that there seem to be very few Final Grades for G3.math given for MS students under the age of ~16-18</h5>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>